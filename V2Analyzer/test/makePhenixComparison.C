#include <iomanip>
#include <fstream>
  void pout(int num, TString rng, double *x, double *y, double *dy, double *sdy){
    cout<<Form("double x_%s[]={",rng.Data());
    for(int i = 0; i<num-1; i++) cout<<x[i]<<",";
    cout<<x[num-1]<<"};"<<endl;
    cout<<Form("double y_%s[]={",rng.Data());
    for(int i = 0; i<num-1; i++) cout<<y[i]<<",";
    cout<<y[num-1]<<"};"<<endl;
    cout<<Form("double dy_%s[]={",rng.Data());
    for(int i = 0; i<num-1; i++) cout<<dy[i]<<",";
    cout<<dy[num-1]<<"};"<<endl;
    cout<<Form("double sdy_%s[]={",rng.Data());
    for(int i = 0; i<num-1; i++) cout<<sdy[i]<<",";
    cout<<sdy[num-1]<<"};"<<endl;
  }
  void spout(int num, TString rng, double *x, double *y, double *dy, double *sdy){
    cout<<Form("double xx_%s[]={",rng.Data());
    for(int i = 0; i<num-1; i++) cout<<x[i]<<",";
    cout<<x[num-1]<<"};"<<endl;
    cout<<Form("double yy_%s[]={",rng.Data());
    for(int i = 0; i<num-1; i++) cout<<y[i]<<",";
    cout<<y[num-1]<<"};"<<endl;
    cout<<Form("double dyy_%s[]={",rng.Data());
    for(int i = 0; i<num-1; i++) cout<<dy[i]<<",";
    cout<<dy[num-1]<<"};"<<endl;
    cout<<Form("double sdyy_%s[]={",rng.Data());
    for(int i = 0; i<num-1; i++) cout<<sdy[i]<<",";
    cout<<sdy[num-1]<<"};"<<endl;
  }
TString TagLabel;
TGraphErrors * InputType1(TString fileName, Int_t & Num);
TGraphErrors * InputType1(int  minCent, int maxCent, double eta, TString tag, TString EP1, TString EP2,Int_t & Num) {
  TString name = Form("results/v2pt_EP_%d-%d_%02d-%s_%s_%s.txt",minCent,maxCent,(int)(10*eta),tag.Data(),EP1.Data(),EP2.Data());
  if(EP2.Length()==0) name = Form("results/v2pt_EP_%d_%02d_%s_%s.txt",minCent,maxCent,(int)(10*eta),tag.Data(),EP1.Data());
  TagLabel = Form("%s_%s_%s",tag.Data(),EP1.Data(),EP2.Data());
  return InputType1(name,Num);
}
void makePhenixComparison(){
  static const int neta = 6;
  double etabins[]={ 0., 0.4, 0.8, 1.2, 1.6, 2.0, 2.4};
  //                   0-5   5-10  10-15    15-20    20-25    25-30     30-35   35-40    50-60  50-60   60-70     70-80 80-90 90-100
  int mincent[14] ={     0,     5,    10,      15,      20,      25,      30,     35,       50,    50,     60,       70,   80,    90};
  int maxcent[14] ={     5,    10,    15,      20,      25,      30,      35,     40,       60,    60,     70,       80,   90,   100};
  int markers[14]= {    22,    21,    23,      24,      25,      30,      20,      3,       29,    28,     26,       27,    3,     5};
  int colors[14] = {kBlack, kBlue,  kRed, kCyan+2, kViolet, kSpring, kOrange, kRed+4, kAzure+9, kTeal, kRed-4,kYellow+2,    0,     0};

// double x_0_5[]={0.35,0.449,0.549,0.694,0.893,1.09,1.38,1.76,2.21,2.71,3.35,4.59,6.75,9.38};
// double y_0_5[]={0.0155,0.0189,0.0229,0.0277,0.0333,0.0389,0.0452,0.0516,0.0589,0.066,0.0646,0.0582,0.021,0.0483};
// double dy_0_5[]={0.000275,0.000288,0.00031,0.000251,0.000304,0.00037,0.000347,0.00052,0.000784,0.00129,0.00177,0.00371,0.0111,0.0183};
double sdy_0_5[]={0.00167,0.00203,0.00247,0.00299,0.00359,0.00354,0.00411,0.0047,0.00496,0.00556,0.00544,0.0049,0.00177,0.00407};

//double x_5_10[]={0.35,0.449,0.549,0.694,0.893,1.09,1.38,1.76,2.21,2.71,3.36,4.6,6.76};
//double y_5_10[]={0.0242,0.0299,0.0362,0.0449,0.055,0.0643,0.0755,0.09,0.104,0.116,0.119,0.103,0.0462};
//double dy_5_10[]={0.000228,0.000238,0.000256,0.000207,0.000251,0.000306,0.000286,0.000429,0.000644,0.00105,0.00143,0.00292,0.00856};
double sdy_5_10[]={0.00261,0.00322,0.0039,0.00483,0.00593,0.00585,0.00687,0.00819,0.00878,0.00977,0.0101,0.00867,0.00389};

//double x_10_15[]={0.35,0.449,0.549,0.694,0.893,1.09,1.38,1.76,2.21,2.71,3.36,4.61,6.75};
//double y_10_15[]={0.0314,0.0399,0.0478,0.0592,0.0733,0.0856,0.1,0.12,0.138,0.151,0.158,0.139,0.0858};
//double dy_10_15[]={0.000226,0.000235,0.000253,0.000204,0.000248,0.000302,0.000283,0.000426,0.000637,0.00104,0.0014,0.00279,0.00799};
double sdy_10_15[]={0.00134,0.00171,0.00205,0.00253,0.00314,0.00312,0.00366,0.00436,0.00446,0.00486,0.00508,0.00447,0.00276};

//double x_15_20[]={0.35,0.449,0.549,0.694,0.893,1.09,1.38,1.76,2.21,2.71,3.36,4.61,6.75};
//double y_15_20[]={0.0367,0.0471,0.0576,0.0708,0.0879,0.103,0.121,0.143,0.164,0.183,0.183,0.155,0.102};
//double dy_15_20[]={0.000238,0.000247,0.000266,0.000215,0.000262,0.000319,0.0003,0.000452,0.000674,0.0011,0.00146,0.00286,0.00802};
double sdy_15_20[]={0.00157,0.00202,0.00247,0.00303,0.00376,0.00375,0.00441,0.00523,0.00527,0.00589,0.00589,0.00498,0.00328};

//double x_20_25[]={0.35,0.449,0.549,0.694,0.893,1.09,1.38,1.76,2.21,2.71,3.36,4.62,6.76};
//double y_20_25[]={0.041,0.053,0.0651,0.0805,0.1,0.117,0.137,0.164,0.187,0.201,0.204,0.175,0.105};
//double dy_20_25[]={0.000264,0.000275,0.000296,0.00024,0.000292,0.000356,0.000336,0.000507,0.000756,0.00123,0.00163,0.00311,0.00859};
double sdy_20_25[]={0.00115,0.00148,0.00182,0.00224,0.00279,0.00255,0.003,0.00357,0.00407,0.00439,0.00445,0.00381,0.00229};

//double x_25_30[]={0.35,0.449,0.549,0.694,0.893,1.09,1.38,1.76,2.21,2.71,3.37,4.62,6.75};
//double y_25_30[]={0.0451,0.0583,0.0713,0.0887,0.11,0.128,0.15,0.178,0.202,0.214,0.216,0.175,0.118};
//double dy_25_30[]={0.000291,0.000304,0.000328,0.000266,0.000324,0.000396,0.000374,0.000567,0.000845,0.00136,0.00179,0.00335,0.00927};
double sdy_25_30[]={0.00126,0.00163,0.00199,0.00247,0.00306,0.00279,0.00328,0.00387,0.0044,0.00468,0.0047,0.00381,0.00258};

//double x_30_35[]={0.35,0.449,0.549,0.694,0.893,1.09,1.38,1.76,2.21,2.71,3.37,4.63,6.74};
//double y_30_35[]={0.0475,0.0617,0.0766,0.0949,0.118,0.138,0.161,0.189,0.212,0.227,0.223,0.188,0.126};
//double dy_30_35[]={0.000329,0.000344,0.000372,0.000302,0.00037,0.000453,0.000429,0.000651,0.000968,0.00156,0.00202,0.00374,0.0101};
double sdy_30_35[]={0.00101,0.00131,0.00163,0.00202,0.00252,0.00294,0.00344,0.00403,0.00453,0.00483,0.00475,0.00401,0.00268};

//double x_35_40[]={0.35,0.449,0.549,0.693,0.893,1.09,1.38,1.76,2.21,2.71,3.37,4.63,6.76};
//double y_35_40[]={0.0496,0.0658,0.08,0.0998,0.125,0.146,0.17,0.199,0.221,0.233,0.232,0.193,0.151};
//double dy_35_40[]={0.000386,0.000404,0.000438,0.000357,0.000438,0.000539,0.000511,0.000779,0.00116,0.00185,0.00239,0.00434,0.0116};
double sdy_35_40[]={0.00106,0.0014,0.0017,0.00213,0.00266,0.0031,0.00361,0.00423,0.00471,0.00496,0.00493,0.00411,0.00322};

//double x_50_60[]={0.35,0.449,0.548,0.693,0.893,1.09,1.38,1.76,2.21,2.71,3.38,4.65,6.76};
//double y_50_60[]={0.0508,0.0675,0.0843,0.106,0.132,0.154,0.177,0.203,0.219,0.218,0.208,0.175,0.128};
//double dy_50_60[]={0.000566,0.000598,0.000655,0.00054,0.000671,0.000833,0.000798,0.00122,0.0018,0.00283,0.00353,0.00611,0.0161};
double sdy_50_60[]={0.00106,0.0014,0.00175,0.00221,0.00275,0.0032,0.00368,0.00422,0.00455,0.00454,0.00432,0.00363,0.00265};

double xx_0_5[]={0.246,0.348,0.448,0.548,0.648,0.748,0.848,0.948,1.048,1.148,1.248,1.348,1.448,1.548,1.648,1.748,1.848,1.948,2.048,2.148,2.248,2.348,2.448,2.548,2.648,2.748,2.848,2.948,3.091,3.292,3.492,3.772,4.136,4.437,4.82,5.404,6.298};
double yy_0_5[]={0.0081,0.0098,0.0132,0.0167,0.0202,0.0233,0.0264,0.0292,0.0319,0.0346,0.0372,0.0399,0.042,0.0445,0.0469,0.0483,0.0504,0.0523,0.0536,0.0549,0.0556,0.056,0.058,0.0578,0.0591,0.0596,0.0578,0.0598,0.0577,0.0583,0.0549,0.0511,0.0457,0.0437,0.046,0.0415,0.0503};
double dyy_0_5[]={3.52e-05,4.2e-05,4.74e-05,5.25e-05,5.89e-05,6.65e-05,7.51e-05,8.47e-05,9.54e-05,0.0001073,0.000121,0.0001366,0.0001543,0.0001759,0.0001997,0.0002265,0.000257,0.0002919,0.0003322,0.0003785,0.0004315,0.0004916,0.0005597,0.0006382,0.0007279,0.000833,0.0009523,0.0010902,0.0009367,0.0012088,0.0015358,0.0014898,0.002446,0.0031924,0.0033402,0.0041241,0.0049343};
double sdyy_0_5[]={0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};
double xx_5_10[]={0.247,0.348,0.448,0.548,0.648,0.748,0.848,0.948,1.048,1.148,1.248,1.348,1.448,1.548,1.648,1.748,1.848,1.948,2.048,2.148,2.248,2.348,2.448,2.548,2.648,2.748,2.848,2.948,3.091,3.292,3.492,3.773,4.136,4.438,4.82,5.403,6.299};
double yy_5_10[]={0.0134,0.0167,0.0221,0.0277,0.0331,0.0384,0.0431,0.0478,0.0521,0.0565,0.0605,0.0648,0.0691,0.0731,0.0763,0.0802,0.0834,0.086,0.0889,0.0915,0.0928,0.0953,0.0969,0.0983,0.1003,0.0994,0.0996,0.1008,0.1013,0.1014,0.1006,0.0968,0.0931,0.086,0.0881,0.0776,0.0689};
double dyy_5_10[]={3.11e-05,3.65e-05,4.08e-05,4.51e-05,5.05e-05,5.69e-05,6.42e-05,7.24e-05,8.15e-05,9.15e-05,0.0001032,0.0001163,0.0001313,0.0001496,0.0001695,0.0001921,0.0002176,0.0002468,0.0002804,0.000319,0.0003629,0.0004129,0.0004696,0.0005345,0.0006098,0.000696,0.0007955,0.0009097,0.0007806,0.0010048,0.0012742,0.0012316,0.0020238,0.0026376,0.0027684,0.0034471,0.0041843};
double sdyy_5_10[]={0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};
double xx_10_15[]={0.247,0.348,0.448,0.548,0.648,0.748,0.848,0.948,1.048,1.148,1.248,1.348,1.448,1.548,1.648,1.748,1.848,1.948,2.048,2.148,2.248,2.348,2.448,2.548,2.648,2.748,2.848,2.948,3.091,3.292,3.492,3.773,4.136,4.437,4.819,5.403,6.295};
double yy_10_15[]={0.0185,0.0237,0.031,0.0385,0.0458,0.0527,0.0591,0.0653,0.0711,0.0767,0.0825,0.0881,0.0933,0.0986,0.1031,0.1079,0.1121,0.1165,0.1192,0.1223,0.1256,0.1277,0.1302,0.1318,0.1329,0.1347,0.1354,0.1358,0.1356,0.1359,0.1351,0.1317,0.1242,0.1195,0.1126,0.1049,0.0948};
double dyy_10_15[]={3.03e-05,3.51e-05,3.92e-05,4.32e-05,4.83e-05,5.43e-05,6.12e-05,6.9e-05,7.76e-05,8.71e-05,9.82e-05,0.0001106,0.0001248,0.0001419,0.0001608,0.0001819,0.000206,0.0002333,0.0002648,0.0003008,0.0003418,0.0003882,0.0004409,0.0005013,0.0005717,0.000652,0.0007454,0.0008519,0.0007296,0.0009374,0.0011847,0.0011439,0.0018733,0.0024421,0.0025686,0.0032128,0.0039429};
double sdyy_10_15[]={0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};
double xx_15_20[]={0.247,0.348,0.449,0.548,0.648,0.748,0.848,0.948,1.048,1.148,1.248,1.348,1.448,1.548,1.648,1.748,1.848,1.948,2.048,2.148,2.248,2.348,2.448,2.548,2.648,2.748,2.848,2.948,3.092,3.292,3.493,3.773,4.136,4.437,4.819,5.4,6.288};
double yy_15_20[]={0.0227,0.0298,0.0389,0.0482,0.057,0.0653,0.0731,0.0803,0.0876,0.0943,0.1011,0.1076,0.114,0.1206,0.1259,0.1312,0.1359,0.1403,0.1449,0.1484,0.1515,0.154,0.1562,0.1584,0.1596,0.1616,0.1636,0.1624,0.1639,0.1623,0.1602,0.1538,0.1523,0.1403,0.135,0.1312,0.1135};
double dyy_15_20[]={3.16e-05,3.62e-05,4.03e-05,4.43e-05,4.95e-05,5.56e-05,6.26e-05,7.06e-05,7.94e-05,8.91e-05,0.0001003,0.000113,0.0001275,0.0001449,0.000164,0.0001855,0.0002098,0.0002375,0.0002691,0.0003055,0.0003468,0.0003936,0.0004465,0.0005071,0.000577,0.0006584,0.0007521,0.0008584,0.000735,0.0009437,0.0011908,0.0011462,0.0018629,0.0024321,0.002563,0.003214,0.0039878};
double sdyy_15_20[]={0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};
double xx_20_25[]={0.247,0.348,0.449,0.548,0.648,0.748,0.848,0.948,1.048,1.148,1.248,1.348,1.448,1.548,1.648,1.748,1.848,1.948,2.048,2.148,2.248,2.348,2.448,2.548,2.648,2.748,2.848,2.948,3.091,3.292,3.493,3.773,4.136,4.438,4.82,5.401,6.292};
double yy_20_25[]={0.0262,0.0351,0.0459,0.0565,0.0666,0.0761,0.085,0.0935,0.1016,0.1094,0.117,0.1244,0.1315,0.1383,0.1444,0.1504,0.1561,0.1609,0.165,0.1691,0.1721,0.1754,0.1772,0.1796,0.1809,0.1825,0.1843,0.1823,0.1844,0.1826,0.1801,0.1748,0.1672,0.1594,0.1543,0.1369,0.14};
double dyy_20_25[]={3.41e-05,3.88e-05,4.3e-05,4.73e-05,5.28e-05,5.93e-05,6.68e-05,7.52e-05,8.46e-05,9.5e-05,0.000107,0.0001204,0.0001358,0.0001544,0.0001747,0.0001974,0.0002232,0.0002524,0.0002859,0.000324,0.0003676,0.0004166,0.0004724,0.0005362,0.0006103,0.0006953,0.0007934,0.0009059,0.0007738,0.0009929,0.0012487,0.0011993,0.0019547,0.0025413,0.0026715,0.003363,0.0041696};
double sdyy_20_25[]={0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};
double xx_25_30[]={0.248,0.348,0.449,0.548,0.648,0.748,0.848,0.948,1.048,1.148,1.248,1.348,1.448,1.548,1.648,1.748,1.848,1.948,2.048,2.148,2.248,2.348,2.448,2.548,2.648,2.748,2.848,2.948,3.092,3.292,3.493,3.774,4.136,4.438,4.819,5.399,6.291};
double yy_25_30[]={0.0291,0.0394,0.0516,0.0635,0.0747,0.0852,0.095,0.1044,0.1133,0.122,0.1303,0.1381,0.1459,0.1531,0.1599,0.1661,0.1719,0.1771,0.181,0.1852,0.1887,0.1902,0.194,0.195,0.1956,0.1991,0.1977,0.1983,0.1972,0.1956,0.1951,0.1878,0.1811,0.1707,0.167,0.149,0.1446};
double dyy_25_30[]={3.78e-05,4.27e-05,4.73e-05,5.19e-05,5.79e-05,6.51e-05,7.33e-05,8.26e-05,9.29e-05,0.0001043,0.0001175,0.0001324,0.0001493,0.0001697,0.0001919,0.0002169,0.000245,0.0002771,0.0003136,0.0003552,0.0004023,0.000456,0.0005162,0.0005862,0.000666,0.0007587,0.0008651,0.0009864,0.0008426,0.0010783,0.0013561,0.0012991,0.0021093,0.0027378,0.0028776,0.0036352,0.0045382};
double sdyy_25_30[]={0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};
double xx_30_35[]={0.248,0.348,0.449,0.548,0.648,0.748,0.848,0.948,1.048,1.148,1.248,1.348,1.448,1.548,1.648,1.748,1.848,1.948,2.048,2.148,2.248,2.348,2.448,2.548,2.648,2.748,2.848,2.948,3.092,3.292,3.493,3.774,4.137,4.437,4.819,5.399,6.283};
double yy_30_35[]={0.0311,0.0429,0.056,0.0692,0.0814,0.0927,0.1032,0.1134,0.1227,0.1319,0.1406,0.1493,0.1571,0.1647,0.1716,0.1779,0.1831,0.1891,0.1924,0.1977,0.2009,0.2037,0.2061,0.2067,0.2093,0.21,0.2108,0.2094,0.2085,0.2068,0.2057,0.1969,0.1925,0.1855,0.1755,0.161,0.1488};
double dyy_30_35[]={4.28e-05,4.82e-05,5.33e-05,5.85e-05,6.53e-05,7.34e-05,8.27e-05,9.32e-05,0.0001049,0.0001179,0.0001329,0.0001498,0.000169,0.0001922,0.0002173,0.0002456,0.0002774,0.0003136,0.0003548,0.0004017,0.0004547,0.0005148,0.0005824,0.0006609,0.0007503,0.0008531,0.0009736,0.0011102,0.0009478,0.0012118,0.0015184,0.001448,0.0023391,0.0030387,0.0031894,0.0040386,0.005076};
double sdyy_30_35[]={0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};
double xx_35_40[]={0.248,0.348,0.449,0.548,0.648,0.748,0.848,0.948,1.048,1.148,1.248,1.348,1.448,1.548,1.648,1.748,1.848,1.948,2.048,2.148,2.248,2.348,2.448,2.548,2.648,2.748,2.848,2.948,3.092,3.292,3.493,3.774,4.137,4.438,4.82,5.4,6.286};
double yy_35_40[]={0.0324,0.0455,0.0597,0.0734,0.0864,0.0983,0.1094,0.1202,0.1302,0.1397,0.1488,0.1574,0.1661,0.1731,0.1802,0.187,0.1925,0.1974,0.2024,0.2058,0.209,0.2107,0.2136,0.2148,0.2151,0.2165,0.2164,0.2171,0.2148,0.2127,0.2093,0.2047,0.2012,0.1918,0.1787,0.1742,0.1648};
double dyy_35_40[]={4.95e-05,5.57e-05,6.16e-05,6.76e-05,7.55e-05,8.49e-05,9.58e-05,0.0001081,0.0001218,0.000137,0.0001545,0.0001743,0.0001968,0.000224,0.0002533,0.0002863,0.0003235,0.0003655,0.0004134,0.000468,0.0005295,0.0005991,0.0006781,0.0007677,0.0008724,0.0009925,0.0011312,0.0012896,0.0010987,0.0013984,0.0017509,0.0016666,0.002688,0.0034871,0.003661,0.0046006,0.0057555};
double sdyy_35_40[]={0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};
double xx_50_60[]={0.248,0.348,0.449,0.548,0.648,0.748,0.848,0.948,1.048,1.148,1.248,1.348,1.448,1.548,1.648,1.748,1.848,1.948,2.048,2.148,2.248,2.348,2.448,2.548,2.648,2.748,2.848,2.948,3.092,3.293,3.493,3.775,4.137,4.438,4.819,5.399,6.283};
double yy_50_60[]={0.0319,0.0469,0.0626,0.0776,0.0917,0.1048,0.117,0.1284,0.1386,0.1489,0.158,0.1666,0.175,0.182,0.1886,0.1941,0.1986,0.2024,0.2065,0.2104,0.2118,0.2142,0.2141,0.2165,0.216,0.2191,0.2164,0.2146,0.221,0.2122,0.2156,0.2076,0.2088,0.2031,0.1981,0.1954,0.2015};
double dyy_50_60[]={7.46e-05,8.4e-05,9.33e-05,0.000103,0.0001156,0.0001308,0.0001484,0.0001686,0.0001911,0.0002163,0.0002453,0.000278,0.0003153,0.0003597,0.000408,0.0004619,0.0005226,0.0005913,0.0006679,0.0007554,0.0008534,0.0009642,0.0010891,0.0012306,0.0013957,0.0015827,0.0018021,0.0020476,0.0017359,0.002198,0.0027293,0.0025773,0.0041184,0.0052887,0.0055071,0.006889,0.0087546};
double sdyy_50_60[]={0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

  TString intTag = "";
  TString tag = "v3v4.txt";


  Double_t lmargin1 = 0.1;
  Double_t rmargin1 = 0.01;
  Double_t lmargin2 = 0.1;
  Double_t rmargin2 = 0.05;
  Double_t xaxislen = (1.-(rmargin1+lmargin1+rmargin2+lmargin2))/2.;
  Double_t xpad1 = lmargin1+xaxislen+rmargin1;
  Double_t xpad2 = 1-xpad1;
  TCanvas * can = new TCanvas("IntV2Eta","IntV2 vs. Eta",1300,750);
  can->cd();
  TPad * pad1 = new TPad("pad1","pad1",0.0,0.0,xpad1,1.0);
  pad1->Draw();
  pad1->SetLeftMargin(lmargin1/xpad1);
  pad1->SetRightMargin(rmargin1/xpad1);
  pad1->cd();
  TH1D * h = new TH1D("h","",500,0,4.4999);
  h->SetMaximum(0.4);
  h->SetMinimum(0.0);
  h->SetXTitle("p_{T}");
  h->SetYTitle("v_{2}{EP}");
  h->SetStats(kFALSE);
  h->Draw();
  TGraphErrors * g[12];
  TGraphErrors * sg[12];
  TGraphErrors * r[12];
  TGraphErrors * sr[12];
  //CMS
  //g[0] = new TGraphErrors(13,x_0_5,y_0_5,0,  dy_0_5);
  //g[1] = new TGraphErrors(13,x_5_10,y_5_10,0, dy_5_10);
  //g[2] = new TGraphErrors(13,x_10_15,y_10_15,0,dy_10_15);
  //g[3] = new TGraphErrors(13,x_15_20,y_15_20,0,dy_15_20);
  //g[4] = new TGraphErrors(13,x_20_25,y_20_25,0,dy_20_25);
  //g[5] = new TGraphErrors(13,x_25_30,y_25_30,0,dy_25_30);
  //g[6] = new TGraphErrors(13,x_30_35,y_30_35,0,dy_30_35);
  //g[7] = new TGraphErrors(13,x_35_40,y_35_40,0,dy_35_40);
  //g[8] = new TGraphErrors(13,x_50_60,y_50_60,0,dy_50_60);
  TString tag = "dz10_chi40";
  TString ep1 = "etHFp";
  TString ep2 = "etHFm";
  //TString ep1 = "EvtPTracksPosEtaGap";
  //TString ep2 = "EvtPTracksNegEtaGap";
  g[0] = InputType1(0,  5,0.8, tag,  ep1, ep2,    13);
  g[1] = InputType1(5, 10,0.8, tag,  ep1, ep2,    13);
  g[2] = InputType1(10,15,0.8, tag,  ep1, ep2,    13);
  g[3] = InputType1(15,20,0.8, tag,  ep1, ep2,    13);
  g[4] = InputType1(20,25,0.8, tag,  ep1, ep2,    13);
  g[5] = InputType1(25,30,0.8, tag,  ep1, ep2,    13);
  g[6] = InputType1(30,35,0.8, tag,  ep1, ep2,    13);
  g[7] = InputType1(35,40,0.8, tag,  ep1, ep2,    13);
  g[8] = InputType1(50,60,0.8, tag,  ep1, ep2,    13);

  Double_t * x =  g[0]->GetX();
  Double_t * y =  g[0]->GetY();
  Double_t * dy = g[0]->GetEY();
  Int_t N_0_5 = g[0]->GetN();
  Double_t x_0_5[20];
  Double_t y_0_5[20];
  Double_t dy_0_5[20];

  for(Int_t i = 0; i<N_0_5; i++) {
    x_0_5[i] = x[i];
    y_0_5[i] = y[i];
    dy_0_5[i] = dy[i];
  }

  x =  g[1]->GetX();
  y =  g[1]->GetY();
  dy = g[1]->GetEY();
  Int_t N_5_10 = g[1]->GetN();
  Double_t x_5_10[20];
  Double_t y_5_10[20];
  Double_t dy_5_10[20];

  for(Int_t i = 0; i<N_5_10; i++) {
    x_5_10[i] = x[i];
    y_5_10[i] = y[i];
    dy_5_10[i] = dy[i];
  }

  x =  g[2]->GetX();
  y =  g[2]->GetY();
  dy = g[2]->GetEY();
  Int_t N_10_15 = g[2]->GetN();
  Double_t x_10_15[20];
  Double_t y_10_15[20];
  Double_t dy_10_15[20];

  for(Int_t i = 0; i<N_10_15; i++) {
    x_10_15[i] = x[i];
    y_10_15[i] = y[i];
    dy_10_15[i] = dy[i];
  }

  x =  g[3]->GetX();
  y =  g[3]->GetY();
  dy = g[3]->GetEY();
  Int_t N_15_20 = g[3]->GetN();
  Double_t x_15_20[20];
  Double_t y_15_20[20];
  Double_t dy_15_20[20];

  for(Int_t i = 0; i<N_15_20; i++) {
    x_15_20[i] = x[i];
    y_15_20[i] = y[i];
    dy_15_20[i] = dy[i];
  }

  x =  g[4]->GetX();
  y =  g[4]->GetY();
  dy = g[4]->GetEY();
  Int_t N_20_25 = g[4]->GetN();
  Double_t x_20_25[20];
  Double_t y_20_25[20];
  Double_t dy_20_25[20];

  for(Int_t i = 0; i<N_20_25; i++) {
    x_20_25[i] = x[i];
    y_20_25[i] = y[i];
    dy_20_25[i] = dy[i];
  }

  x =  g[5]->GetX();
  y =  g[5]->GetY();
  dy = g[5]->GetEY();
  Int_t N_25_30 = g[5]->GetN();
  Double_t x_25_30[20];
  Double_t y_25_30[20];
  Double_t dy_25_30[20];

  for(Int_t i = 0; i<N_25_30; i++) {
    x_25_30[i] = x[i];
    y_25_30[i] = y[i];
    dy_25_30[i] = dy[i];
  }

  x =  g[6]->GetX();
  y =  g[6]->GetY();
  dy = g[6]->GetEY();
  Int_t N_30_35 = g[6]->GetN();
  Double_t x_30_35[20];
  Double_t y_30_35[20];
  Double_t dy_30_35[20];

  for(Int_t i = 0; i<N_30_35; i++) {
    x_30_35[i] = x[i];
    y_30_35[i] = y[i];
    dy_30_35[i] = dy[i];
  }

  x =  g[7]->GetX();
  y =  g[7]->GetY();
  dy = g[7]->GetEY();
  Int_t N_35_40 = g[7]->GetN();
  Double_t x_35_40[20];
  Double_t y_35_40[20];
  Double_t dy_35_40[20];

  for(Int_t i = 0; i<N_35_40; i++) {
    x_35_40[i] = x[i];
    y_35_40[i] = y[i];
    dy_35_40[i] = dy[i];
  }

  x =  g[8]->GetX();
  y =  g[8]->GetY();
  dy = g[8]->GetEY();
  Int_t N_50_60 = g[8]->GetN();
  Double_t x_50_60[20];
  Double_t y_50_60[20];
  Double_t dy_50_60[20];

  for(Int_t i = 0; i<N_50_60; i++) {
    x_50_60[i] = x[i];
    y_50_60[i] = y[i];
    dy_50_60[i] = dy[i];
  }
   TGraph *graph = new TGraph(25);
   graph->SetName("graph");
   graph->SetTitle("Data read using R3Data");
   graph->SetFillColor(1);
   graph->SetMarkerStyle(21);
   graph->SetMarkerSize(0.6);
   graph->SetPoint(0,0.528875,0.0323383);
   graph->SetPoint(1,0.674772,0.0393035);
   graph->SetPoint(2,0.893617,0.0497512);
   graph->SetPoint(3,1.09422,0.0587065);
   graph->SetPoint(4,1.2766,0.0676617);
   graph->SetPoint(5,1.49544,0.0746269);
   graph->SetPoint(6,1.69605,0.081592);
   graph->SetPoint(7,1.89666,0.0885572);
   graph->SetPoint(8,2.09726,0.0940299);
   graph->SetPoint(9,2.27964,0.0995025);
   graph->SetPoint(10,2.48024,0.10398);
   graph->SetPoint(11,2.69909,0.10796);
   graph->SetPoint(12,2.88146,0.111443);
   graph->SetPoint(13,3.08207,0.113433);
   graph->SetPoint(14,3.26444,0.114428);
   graph->SetPoint(15,3.46505,0.11393);
   graph->SetPoint(16,3.68389,0.113433);
   graph->SetPoint(17,3.8845,0.11194);
   graph->SetPoint(18,4.231,0.107463);
   graph->SetPoint(19,4.7234,0.0985075);
   graph->SetPoint(20,5.48936,0.0835821);
   graph->SetPoint(21,6.47416,0.0666667);
   graph->SetPoint(22,7.4772,0.0562189);
   graph->SetPoint(23,8.97264,0.0482587);
   graph->SetPoint(24,10.9605,0.0462687);
   graph->SetLineColor(colors[1]);
   graph->SetLineStyle(2);
   graph->Draw("");

   TLegend * leg2 = new TLegend(0.5,0.17,0.9,0.22);
   leg2->AddEntry(graph,"ATLAS 5-10 (data mining)","lp");
   leg2->Draw();
  TLatex * labl1 = new TLatex(0.3,0.35,tag.Data());
  labl1->SetTextSize(0.035);
  labl1->Draw();
  TLatex * labl2 = new TLatex(0.3,0.32,ep1.Data());
  labl2->SetTextSize(0.035);
  labl2->Draw();
  TLatex * labl3 = new TLatex(0.3,0.29,ep2.Data());
  labl3->SetTextSize(0.035);
  labl3->Draw();
  //PHENIX
  sg[0] = new TGraphErrors(37,xx_0_5,yy_0_5,0,  dyy_0_5);
  sg[1] = new TGraphErrors(37,xx_5_10,yy_5_10,0, dyy_5_10);
  sg[2] = new TGraphErrors(37,xx_10_15,yy_10_15,0,dyy_10_15);
  sg[3] = new TGraphErrors(37,xx_15_20,yy_15_20,0,dyy_15_20);
  sg[4] = new TGraphErrors(37,xx_20_25,yy_20_25,0,dyy_20_25);
  sg[5] = new TGraphErrors(37,xx_25_30,yy_25_30,0,dyy_25_30);
  sg[6] = new TGraphErrors(37,xx_30_35,yy_30_35,0,dyy_30_35);
  sg[7] = new TGraphErrors(37,xx_35_40,yy_35_40,0,dyy_35_40);
  sg[8] = new TGraphErrors(37,xx_50_60,yy_50_60,0,dyy_50_60);


  for(Int_t i = 0; i<9; i++) {
    g[i]->SetMarkerStyle(markers[i]);
    g[i]->SetMarkerColor(colors[i]);
    g[i]->SetLineColor(colors[i]);
    g[i]->SetMarkerSize(1.2);
    g[i]->Draw("P");
  }

  for(Int_t i = 0; i<9; i++) {
    sg[i]->SetMarkerStyle(markers[i]);
    sg[i]->SetMarkerColor(colors[i]);
    sg[i]->SetLineColor(colors[i]);
    sg[i]->SetMarkerSize(1.2);
    //sg[i]->Draw("P");
  }

  TLegend * leg = new TLegend(0.82,0.66,0.94,0.93,"");
  leg->SetFillColor(0);
  for(Int_t i = 8; i>=0; i--) {
    leg->AddEntry(g[i],  Form( "%d-%d%c",mincent[i],maxcent[i],'%'),"lp");
  }
  leg->SetTextSize(0.03);
  leg->SetBorderSize(0.0);
  leg->Draw();

  TF1 * sgf[10];
  for(Int_t i = 0; i<9; i++) {
     sg[i]->SetMarkerStyle(markers[i]);
     sg[i]->SetMarkerColor(colors[i]);
     sg[i]->SetLineColor(colors[i]);
     sg[i]->SetLineWidth(8);
     //sg[i]->Draw("P");
    sgf[i] = new TF1(Form("fit%d",i),"pol5",0.3,3.8);
    sgf[i]->SetLineColor(colors[i]);
    sg[i]->Fit(sgf[i],"QR");
    sgf[i]->Draw("same");
  }

  can->cd();
  TPad * pad2 = new TPad("pad2","pad2",xpad1,0.0,1.0,1.0);
  pad2->Draw();
  pad2->SetLeftMargin(lmargin2/xpad2);
  pad2->SetRightMargin(rmargin2/xpad2);
  pad2->cd();

  gPad->SetGrid(1,1);
  TH1D * hr = new TH1D("hr","",500,0,4.5);
  hr->SetMaximum(1.8);
  hr->SetMinimum(0.8);
  hr->SetYTitle("Ratio (CMS/PHENIX)");
  hr->SetXTitle("p_{T}");
  hr->Draw();
  for(int i = 0; i<14; i++) {
    y_0_5[i]/=sgf[0]->Eval(x_0_5[i]);
    dy_0_5[i]/=sgf[0]->Eval(x_0_5[i]);
  }
  r[0] = new TGraphErrors(14,x_0_5,y_0_5,0,dy_0_5);
  r[0]->SetMarkerStyle(markers[0]);
  r[0]->SetMarkerColor(colors[0]);
  r[0]->SetLineColor(colors[0]);
  //r[0]->SetLineWidth(8);
  r[0]->SetMarkerSize(1.4);
  r[0]->Draw("P");

  for(int i = 0; i<14; i++) {
    y_5_10[i]/=sgf[1]->Eval(x_5_10[i]);
    dy_5_10[i]/=sgf[1]->Eval(x_5_10[i]);
  }
  r[1] = new TGraphErrors(14,x_5_10,y_5_10,0,dy_5_10);
  r[1]->SetMarkerStyle(markers[1]);
  r[1]->SetMarkerColor(colors[1]);
  r[1]->SetLineColor(colors[1]);
  //r[1]->SetLineWidth(8);
  r[1]->Draw("P");

  for(int i = 0; i<14; i++) {
    y_10_15[i]/=sgf[2]->Eval(x_10_15[i]);
    dy_10_15[i]/=sgf[2]->Eval(x_10_15[i]);
  }
  r[2] = new TGraphErrors(14,x_10_15,y_10_15,0,dy_10_15);
  r[2]->SetMarkerStyle(markers[2]);
  r[2]->SetMarkerColor(colors[2]);
  r[2]->SetLineColor(colors[2]);
  //r[2]->SetLineWidth(8);
  r[2]->Draw("P");

  for(int i = 0; i<14; i++) {
    y_15_20[i]/=sgf[3]->Eval(x_15_20[i]);
    dy_15_20[i]/=sgf[3]->Eval(x_15_20[i]);
  }
  r[3] = new TGraphErrors(14,x_15_20,y_15_20,0,dy_15_20);
  r[3]->SetMarkerStyle(markers[3]);
  r[3]->SetMarkerColor(colors[3]);
  r[3]->SetLineColor(colors[3]);
  //r[3]->SetLineWidth(8);
  r[3]->Draw("P");

  for(int i = 0; i<14; i++) {
    y_20_25[i]/=sgf[4]->Eval(x_20_25[i]);
    dy_20_25[i]/=sgf[4]->Eval(x_20_25[i]);
  }
  r[4] = new TGraphErrors(14,x_20_25,y_20_25,0,dy_20_25);
  r[4]->SetMarkerStyle(markers[4]);
  r[4]->SetMarkerColor(colors[4]);
  r[4]->SetLineColor(colors[4]);
  //r[4]->SetLineWidth(8);
  r[4]->Draw("P");

  for(int i = 0; i<14; i++) {
    y_25_30[i]/=sgf[5]->Eval(x_25_30[i]);
    dy_25_30[i]/=sgf[5]->Eval(x_25_30[i]);
  }
  r[5] = new TGraphErrors(14,x_25_30,y_25_30,0,dy_25_30);
  r[5]->SetMarkerStyle(markers[5]);
  r[5]->SetMarkerColor(colors[5]);
  r[5]->SetLineColor(colors[5]);
  //r[5]->SetLineWidth(8);
  r[5]->Draw("P");

  for(int i = 0; i<14; i++) {
    y_30_35[i]/=sgf[6]->Eval(x_30_35[i]);
    dy_30_35[i]/=sgf[6]->Eval(x_30_35[i]);
  }
  r[6] = new TGraphErrors(14,x_30_35,y_30_35,0,dy_30_35);
  r[6]->SetMarkerStyle(markers[6]);
  r[6]->SetMarkerColor(colors[6]);
  r[6]->SetLineColor(colors[6]);
  //r[6]->SetLineWidth(8);
  r[6]->Draw("P");

  for(int i = 0; i<14; i++) {
    y_35_40[i]/=sgf[7]->Eval(x_35_40[i]);
    dy_35_40[i]/=sgf[7]->Eval(x_35_40[i]);
  }
  r[7] = new TGraphErrors(14,x_35_40,y_35_40,0,dy_35_40);
  r[7]->SetMarkerStyle(markers[7]);
  r[7]->SetMarkerColor(colors[7]);
  r[7]->SetLineColor(colors[7]);
  //r[7]->SetLineWidth(8);
  r[7]->Draw("P");

  for(int i = 0; i<14; i++) {
    y_50_60[i]/=sgf[8]->Eval(x_50_60[i]);
    dy_50_60[i]/=sgf[8]->Eval(x_50_60[i]);
  }
  r[8] = new TGraphErrors(14,x_50_60,y_50_60,0,dy_50_60);
  r[8]->SetMarkerStyle(markers[8]);
  r[8]->SetMarkerColor(colors[8]);
  r[8]->SetLineColor(colors[8]);
  //r[8]->SetLineWidth(8);
  r[8]->Draw("P");
  can->Print(Form("CMSPhenix_%s.png",TagLabel.Data()));
  can->Print(Form("CMSPhenix_%s.pdf",TagLabel.Data()));
//   cratio->Print("ratio.png");

//   TCanvas * cratio2 = new TCanvas("cratio2","cratio2",800,650);
//   cratio2->cd();
//   gPad->SetGrid(1,1);
//   TH1D * hr2 = new TH1D("hr2","",500,0,3.5);
//   hr2->SetMaximum(2);
//   hr2->SetMinimum(0.5);
//   hr2->SetYTitle("Ratio (PHENIX/PHENIX FIT)");
//   hr2->SetXTitle("p_{T}");
//   hr2->Draw();
//   for(int i = 0; i<37; i++) {
//     yy_0_5[i]/=sgf[0]->Eval(xx_0_5[i]);
//     dyy_0_5[i]/=sgf[0]->Eval(xx_0_5[i]);
//   }
//   rr[0] = new TGraphErrors(37,xx_0_5,yy_0_5,0,dyy_0_5);
//   rr[0]->SetMarkerStyle(markers[0]);
//   rr[0]->SetMarkerColor(colors[0]);
//   rr[0]->SetLineColor(colors[0]);
//   rr[0]->SetLineWidth(8);
//   rr[0]->SetMarkerSize(1.4);
//   rr[0]->Draw("P");

//   for(int i = 0; i<37; i++) {
//     yy_5_10[i]/=sgf[1]->Eval(xx_5_10[i]);
//     dyy_5_10[i]/=sgf[1]->Eval(xx_5_10[i]);
//   }
//   rr[1] = new TGraphErrors(37,xx_5_10,yy_5_10,0,dyy_5_10);
//   rr[1]->SetMarkerStyle(markers[1]);
//   rr[1]->SetMarkerColor(colors[1]);
//   rr[1]->SetLineColor(colors[1]);
//   rr[1]->SetLineWidth(8);
//   rr[1]->Draw("P");

//   for(int i = 0; i<37; i++) {
//     yy_10_15[i]/=sgf[2]->Eval(xx_10_15[i]);
//     dyy_10_15[i]/=sgf[2]->Eval(xx_10_15[i]);
//   }
//   rr[2] = new TGraphErrors(37,xx_10_15,yy_10_15,0,dyy_10_15);
//   rr[2]->SetMarkerStyle(markers[2]);
//   rr[2]->SetMarkerColor(colors[2]);
//   rr[2]->SetLineColor(colors[2]);
//   rr[2]->SetLineWidth(8);
//   rr[2]->Draw("P");

//   for(int i = 0; i<37; i++) {
//     yy_15_20[i]/=sgf[3]->Eval(xx_15_20[i]);
//     dyy_15_20[i]/=sgf[3]->Eval(xx_15_20[i]);
//   }
//   rr[3] = new TGraphErrors(37,xx_15_20,yy_15_20,0,dyy_15_20);
//   rr[3]->SetMarkerStyle(markers[3]);
//   rr[3]->SetMarkerColor(colors[3]);
//   rr[3]->SetLineColor(colors[3]);
//   rr[3]->SetLineWidth(8);
//   rr[3]->Draw("P");

//   for(int i = 0; i<37; i++) {
//     yy_20_25[i]/=sgf[4]->Eval(xx_20_25[i]);
//     dyy_20_25[i]/=sgf[4]->Eval(xx_20_25[i]);
//   }
//   rr[4] = new TGraphErrors(37,xx_20_25,yy_20_25,0,dyy_20_25);
//   rr[4]->SetMarkerStyle(markers[4]);
//   rr[4]->SetMarkerColor(colors[4]);
//   rr[4]->SetLineColor(colors[4]);
//   rr[4]->SetLineWidth(8);
//   rr[4]->Draw("P");

//   for(int i = 0; i<37; i++) {
//     yy_25_30[i]/=sgf[5]->Eval(xx_25_30[i]);
//     dyy_25_30[i]/=sgf[5]->Eval(xx_25_30[i]);
//   }
//   rr[5] = new TGraphErrors(37,xx_25_30,yy_25_30,0,dyy_25_30);
//   rr[5]->SetMarkerStyle(markers[5]);
//   rr[5]->SetMarkerColor(colors[5]);
//   rr[5]->SetLineColor(colors[5]);
//   rr[5]->SetLineWidth(8);
//   rr[5]->Draw("P");

//   for(int i = 0; i<37; i++) {
//     yy_30_35[i]/=sgf[6]->Eval(xx_30_35[i]);
//     dyy_30_35[i]/=sgf[6]->Eval(xx_30_35[i]);
//   }
//   rr[6] = new TGraphErrors(37,xx_30_35,yy_30_35,0,dyy_30_35);
//   rr[6]->SetMarkerStyle(markers[6]);
//   rr[6]->SetMarkerColor(colors[6]);
//   rr[6]->SetLineColor(colors[6]);
//   rr[6]->SetLineWidth(8);
//   rr[6]->Draw("P");

//   for(int i = 0; i<37; i++) {
//     yy_35_40[i]/=sgf[7]->Eval(xx_35_40[i]);
//     dyy_35_40[i]/=sgf[7]->Eval(xx_35_40[i]);
//   }
//   rr[7] = new TGraphErrors(37,xx_35_40,yy_35_40,0,dyy_35_40);
//   rr[7]->SetMarkerStyle(markers[7]);
//   rr[7]->SetMarkerColor(colors[7]);
//   rr[7]->SetLineColor(colors[7]);
//   rr[7]->SetLineWidth(8);
//   rr[7]->Draw("P");

//   for(int i = 0; i<37; i++) {
//     yy_50_60[i]/=sgf[8]->Eval(xx_50_60[i]);
//     dyy_50_60[i]/=sgf[8]->Eval(xx_50_60[i]);
//   }
//   rr[8] = new TGraphErrors(14,xx_50_60,yy_50_60,0,dyy_50_60);
//   rr[8]->SetMarkerStyle(markers[8]);
//   rr[8]->SetMarkerColor(colors[8]);
//   rr[8]->SetLineColor(colors[8]);
//   rr[8]->SetLineWidth(8);
//   rr[8]->Draw("P");
//   cratio2->Print("ratio2.png");

}
TGraphErrors * InputType1(TString fileName, Int_t &Num){
  FILE * fin = fopen(fileName.Data(),"r");
  Double_t x[100];
  Double_t y[100];
  Double_t dy[100];
  Num = 0;
  if(fin==NULL) {
    cout<<"File not found: "<<fileName.Data()<<endl;
    return 0;
  }
  char buf[80];
  fgets(buf,80,fin);
  while(fgets(buf,80,fin)!=NULL) {
    if(buf[0]=='_') continue;
    if(sscanf(buf,"%lf\t%lf\t%lf",&x[Num],&y[Num],&dy[Num]) == 3) {
      ++Num;
    } else {
      cout<<"Failed to interpret: "<<buf<<endl;
    };

  }
  if(Num==0) return 0;
  TGraphErrors * g = new TGraphErrors(Num,x,y,0,dy);
  g->SetName(fileName.Data());
  g->SetTitle(fileName.Data());
  return g;
}
